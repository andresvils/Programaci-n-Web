<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promesas</title>
</head>
<body>
    <script>
        class Persona{
        constructor(nombre,rol){
            this.nombre=nombre;
            this.rol=rol;
        }
        }
        const data =[
            ["santy vilchez","fullstack"],
            ["pablo torrent","frontend"],
            ["antonio ortiz","frontend"],
            ["mario torrent","backend"],
            ["pacheco sergio",]
        ];
        const personas=[]
        for (let i = 0; i < data.length; i++) {
            personas[i]= new Persona(data[i][0],data[i][1])
            
        }
        const obtenerPersona=(id)=>{
            return new Promise((resolve,reject)=>{
                if(personas[id]==undefined)reject("No se ha encontrado la persona");
                else{resolve(personas[id])}
            })
        }
        const obtenerRol=(id)=>{
            return new Promise((resolve,reject)=>{
                if(personas[id].rol==undefined) reject("No se ha encontrado el Rol");
                else{resolve(personas[id].rol)}
            })
        }
        let id=5;
        obtenerPersona(id).then((persona)=>{
            console.log(persona.nombre);
            return obtenerRol(id);
        }).then((rol)=>{
            console.log(rol);
        }).catch((e)=>{
            console.log(e)
        })
    </script>
</body>
</html>